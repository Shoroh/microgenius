<div style='width: 100%;'>
  <div id="map_canvas" style='width: 100%; height: 500px;'></div>
</div>

<script>
    function initialize() {
        var myLatLng = new google.maps.LatLng(<%= @post.latitude %>, <%= @post.longitude %>);
        var mapOptions = {
            zoom: 12,
            center: myLatLng,
            mapTypeId: google.maps.MapTypeId.SATELLITE
        };

        var map = new google.maps.Map(document.getElementById('map_canvas'),
                mapOptions);

        var marker = new google.maps.Marker({
            position: myLatLng,
            map: map
        });


        google.maps.event.addListener(marker, 'click', function () {
            map.setZoom(15);
            map.setCenter(marker.getPosition());
        });

    }

    google.maps.event.addDomListener(window, 'load', initialize);
</script>